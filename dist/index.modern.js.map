{"version":3,"file":"index.modern.js","sources":["../src/types.ts","../src/Button/index.tsx","../src/utils/index.ts","../src/hooks/useStyles.ts"],"sourcesContent":["export enum Color {\n  DEFAULT = 'default',\n  PRIMARY = 'primary',\n  SECONDARY = 'secondary'\n}\n\nexport enum Variants {\n  CONTAINED = 'contained',\n  OUTLINED = 'outlined',\n  TEXT = 'text',\n  ICON = 'icon'\n}\n\nexport enum Size {\n  SMALL = 'small',\n  MEDIUM = 'medium',\n  LARGE = 'large'\n}\n\nexport interface Styles {\n  color?: string\n}\n\ntype MatchReplacer = (match: string) => string\ntype ForceReplacer = () => string\n\nexport type ParserReplacer = MatchReplacer | ForceReplacer\nexport interface StylePropertyParser {\n  matcher: RegExp\n  replacer: ParserReplacer\n}\n\nexport type Stylesheet<T> = {\n  [Class in keyof T]: Styles\n}\n\nexport type Classes<T> = {\n  [Class in keyof T]: string\n}\n","import React from 'react'\nimport classnames from 'classnames'\n\nimport { Color, Variants, Size } from '../types'\nimport './styles.css'\n\nexport interface IButton\n  extends React.DetailedHTMLProps<\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    HTMLButtonElement\n  > {\n  /**\n   * What type of button?\n   */\n  variant?: keyof Record<Variants, string>\n  /**\n   * What color to use?\n   */\n  color?: keyof Record<Color, string>\n  /**\n   * How large should the button be?\n   */\n  dimension?: keyof Record<Size, string>\n  /**\n   * Custom styles?\n   */\n  className?: string\n}\n\nexport const Button = ({\n  variant,\n  color,\n  dimension,\n  className,\n  ...props\n}: IButton) => {\n  const classes = classnames(\n    'btn',\n    {\n      'btn--contained': variant === Variants.CONTAINED,\n      'btn--outlined': variant === Variants.OUTLINED,\n      'btn--text': variant === Variants.TEXT,\n      'btn--icon': variant === Variants.ICON,\n      'btn--default': color === Color.DEFAULT,\n      'btn--primary': color === Color.PRIMARY,\n      'btn--secondary': color === Color.SECONDARY,\n      'btn--small': dimension === Size.SMALL,\n      'btn--medium': dimension === Size.MEDIUM,\n      'btn--large': dimension === Size.LARGE,\n      'btn--disabled': props.disabled\n    },\n    className\n  )\n\n  return (\n    <button\n      type='button'\n      tabIndex={props.disabled ? -1 : 0}\n      aria-disabled={props.disabled}\n      className={classes}\n      {...props}\n    >\n      {props.children}\n    </button>\n  )\n}\n\nButton.defaultProps = {\n  variant: 'contained',\n  color: 'default',\n  dimension: 'small'\n}\n","import { Stylesheet, Classes } from '../types'\n\nconst randomString = (length: number, base = 36) => {\n  return '_' + Math.random().toString(base).substr(2, length)\n}\n\nconst getNodeIdentifier = () => {\n  const id = randomString(8)\n  return 'useStyles__' + id\n}\n\nconst compileInitialClasseNames = <T>(classes: Stylesheet<T>): Classes<T> => {\n  return Object.keys(classes).reduce(\n    (obj, className) => ({\n      ...obj,\n      [className]: getNodeIdentifier()\n    }),\n    {} as Classes<T>\n  )\n}\n\nexport { randomString, getNodeIdentifier, compileInitialClasseNames }\n","/* eslint-disable no-use-before-define */\nimport { useEffect, useMemo } from 'react'\nimport { getNodeIdentifier, compileInitialClasseNames } from '../utils'\nimport {\n  Styles,\n  ParserReplacer,\n  StylePropertyParser,\n  Classes,\n  Stylesheet\n} from '../types'\n\nexport interface Options {\n  parser?: StylePropertyParser\n}\n\nconst DEFAULT_PARSER: StylePropertyParser = {\n  matcher: /[A-Z]/,\n  replacer: (match: string) => `-${match.toLowerCase()}`\n}\n\nexport const useStyles = <T>(\n  styleSheet: Stylesheet<T>,\n  options?: Options\n): Classes<T> => {\n  const classes = useMemo<Classes<T>>(\n    () => compileInitialClasseNames(styleSheet),\n    []\n  )\n\n  const appendStyle = (id: string, css: string) => {\n    if (!document.head.querySelector('#' + id)) {\n      const node = document.createElement('style')\n      node.textContent = css\n      node.type = 'text/css'\n      node.id = id\n\n      document.head.appendChild(node)\n    }\n  }\n\n  const removeStyle = (id: string) => {\n    const element = document.head.querySelector('#' + id)\n    if (element) {\n      document.head.removeChild(element)\n    }\n  }\n\n  const isDOMReady = (): boolean => {\n    return (\n      typeof window !== 'undefined' &&\n      typeof document !== 'undefined' &&\n      !!document.head\n    )\n  }\n\n  const createParser = (matcher: RegExp, replacer: ParserReplacer) => {\n    const regex = RegExp(matcher, 'g')\n    return (string: string) => {\n      // * throw an error if not a string\n      if (typeof string !== 'string') {\n        throw new TypeError(\n          `expected an argument of type string, but got ${typeof string}`\n        )\n      }\n\n      if (!string.match(regex)) {\n        return string\n      }\n      return string.replace(regex, replacer)\n    }\n  }\n\n  const compileStyles = (\n    styles: Styles,\n    parser: (property: string) => string\n  ) =>\n    Object.keys(styles)\n      .map((property) => `${parser(property)}: ${styles[property]}`)\n      .join('\\n')\n\n  const compileStylesheet = (): string => {\n    if (\n      !styleSheet ||\n      typeof styleSheet !== 'object' ||\n      Array.isArray(styleSheet)\n    ) {\n      throw new TypeError(\n        `expected an argument of type object, but got ${typeof styleSheet}`\n      )\n    }\n\n    const parser = createParser(\n      options?.parser?.matcher || DEFAULT_PARSER.matcher,\n      options?.parser?.replacer || DEFAULT_PARSER.replacer\n    )\n\n    const classnames = Object.keys(styleSheet).reduce(\n      (obj, classname) => ({\n        ...obj,\n        [classes[classname]]: compileStyles(styleSheet[classname], parser)\n      }),\n      {}\n    )\n\n    return Object.keys(classnames)\n      .map((classname) => `.${classname}: {\\n${classnames[classname]}\\n}`)\n      .join('\\n')\n  }\n\n  useEffect(() => {\n    const id = getNodeIdentifier()\n\n    if (isDOMReady()) {\n      const css = compileStylesheet()\n      appendStyle(id, css)\n    }\n\n    return () => {\n      removeStyle(id)\n    }\n  }, [])\n\n  return classes\n}\n"],"names":["Color","Variants","Size","Button","variant","color","dimension","className","props","classes","classnames","CONTAINED","OUTLINED","TEXT","ICON","DEFAULT","PRIMARY","SECONDARY","SMALL","MEDIUM","LARGE","disabled","React","type","tabIndex","children","defaultProps","randomString","length","base","Math","random","toString","substr","getNodeIdentifier","id","compileInitialClasseNames","Object","keys","reduce","obj","DEFAULT_PARSER","matcher","replacer","match","toLowerCase","useStyles","styleSheet","options","useMemo","appendStyle","css","document","head","querySelector","node","createElement","textContent","appendChild","removeStyle","element","removeChild","isDOMReady","window","createParser","regex","RegExp","string","TypeError","replace","compileStyles","styles","parser","map","property","join","compileStylesheet","Array","isArray","classname","useEffect"],"mappings":"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"}